(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{100:function(e,t,i){var n=i(43),a=i(42),o=i(81),r=i(57),s=n.PRIORITY.VISUAL.COMPONENT;function l(e,t,i,n){for(var a=t.targetVisuals[n],o=r.prepareVisualTypes(a),s={color:e.getData().getVisual("color")},l=0,u=o.length;l<u;l++){var c=o[l],h=a["opacity"===c?"__alphaForOpacity":c];h&&h.applyVisual(i,p,d)}return s.color;function p(e){return s[e]}function d(e,t){s[e]=t}}n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(o.incrementalApplyVisual(t.stateList,t.targetVisuals,a.bind(t.getValueState,t),t.getDataDimension(e.getData())))}),i}}),n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(a.bind(l,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimension(i),s=i.getDimensionInfo(r);null!=s&&(o.dimension=s.index,n.push(o))}}),e.getData().setVisual("visualMeta",n)}})},101:function(e,t,i){var n=i(43),a=i(42),o=i(52),r=i(102),s=i(57),l=i(81),u=i(47),c=i(45),h=s.mapVisual,p=s.eachVisual,d=a.isArray,g=a.each,f=c.asc,v=c.linearMap,m=a.noop,y=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;o.canvasSupported||(i.realtime=!1),!t&&l.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=a.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=u.normalizeToArray(e),t},eachTargetSeries:function(e,t){a.each(this.getTargetSeriesIndices(),function(i){e.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,t,i){var n,o,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;return i=i||["<",">"],a.isArray(e)&&(e=e.slice(),n=!0),o=t?e:n?[c(e[0]),c(e[1])]:c(e),a.isString(u)?u.replace("{value}",n?o[0]:o).replace("{value2}",n?o[1]:o):a.isFunction(u)?n?u(e[0],e[1]):u(e):n?e[0]===l[0]?i[0]+" "+o[1]:e[1]===l[1]?i[1]+" "+o[0]:o[0]+" - "+o[1]:o;function c(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=f([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var n=e.dimensions,a=n.length-1;a>=0;a--){var o=n[a];if(!e.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),o=t.controller||(t.controller={});a.merge(n,i),a.merge(o,i);var l=this.isCategory();function u(i){d(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},g(this.stateList,function(e){var t=i[e];if(a.isString(t)){var n=r.get(t,"active",l);n?(i[e]={},i[e][t]=n):delete i[e]}},this)}u.call(this,n),u.call(this,o),function(e,t,i){var n=e[t],a=e[i];n&&!a&&(a=e[i]={},g(n,function(e,t){if(s.isValidType(t)){var i=r.get(t,"inactive",l);null!=i&&(a[t]=i,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}}))}.call(this,n,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor");g(this.stateList,function(o){var r=this.itemSize,s=e[o];s||(s=e[o]={color:l?n:[n]}),null==s.symbol&&(s.symbol=t&&a.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&a.clone(i)||(l?r[0]:[r[0],r[0]])),s.symbol=h(s.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var u=s.symbolSize;if(null!=u){var c=-1/0;p(u,function(e){e>c&&(c=e)}),s.symbolSize=h(u,function(e){return v(e,[0,c],[0,r[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:m,getValueState:m,getVisualMeta:m});e.exports=y},102:function(e,t,i){var n=i(42),a={get:function(e,t,i){var a=n.clone((o[e]||{})[t]);return i&&n.isArray(a)?a[a.length-1]:a}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},r=a;e.exports=r},103:function(e,t,i){var n=i(43),a=i(42),o=i(44),r=i(49),s=i(48),l=i(57),u=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,i=r.normalizeCssArray(t.get("padding")||0),n=e.getBoundingRect();e.add(new o.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,i){var n=(i=i||{}).forceState,o=this.visualMapModel,r={};if("symbol"===t&&(r.symbol=o.get("itemSymbol")),"color"===t){var s=o.get("contentColor");r.color=s}function u(e){return r[e]}function c(e,t){r[e]=t}var h=o.controllerVisuals[n||o.getValueState(e)],p=l.prepareVisualTypes(h);return a.each(p,function(n){var a=h[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",a=h.__alphaForOpacity),l.dependsOn(n,t)&&a&&a.applyVisual(e,u,c)}),r[t]},positionGroup:function(e){var t=this.visualMapModel,i=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:a.noop});e.exports=u},104:function(e,t,i){var n=i(42),a=i(48).getLayoutRect;t.getItemAlign=function(e,t,i){var n=e.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var r={width:t.getWidth(),height:t.getHeight()},s="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],h={},p=0;p<3;p++)h[l[1-s][p]]=c[p],h[u[p]]=2===p?i[0]:n[u[p]];var d=[["x","width",3],["y","height",0]][s],g=a(h,r,n.padding);return u[(g.margin[d[2]]||0)+g[d[0]]+.5*g[d[1]]<.5*r[d[1]]?0:1]},t.convertDataIndex=function(e){return n.each(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}},105:function(e,t,i){i(43).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},106:function(e,t,i){var n=i(107),a=i(66),o=i(42),r=o.extend,s=o.isArray;e.exports=function(e,t,i){t=s(t)&&{coordDimensions:t}||r({},t);var o=e.getSource(),l=n(o,t),u=new a(l,e);return u.initData(o,i),u}},112:function(e,t){e.exports=function(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var n=e.getData();n.filterSelf(function(e){for(var t=n.getName(e),a=0;a<i.length;a++)if(!i[a].isSelected(t))return!1;return!0})}}}}},126:function(e,t,i){var n=i(42).createHashMap;e.exports=function(e){return{getTargetSeries:function(t){var i={},a=n();return t.eachSeriesByType(e,function(e){e.__paletteScope=i,a.set(e.uid,e)}),a},reset:function(e,t){var i=e.getRawData(),n={},a=e.getData();a.each(function(e){var t=a.getRawIndex(e);n[t]=e}),i.each(function(t){var o=n[t],r=null!=o&&a.getItemVisual(o,"color",!0);if(r)i.setItemVisual(t,"color",r);else{var s=i.getItemModel(t).get("itemStyle.color")||e.getColorFromPalette(i.getName(t)||t+"",e.__paletteScope,i.count());i.setItemVisual(t,"color",s),null!=o&&a.setItemVisual(o,"color",s)}})}}}},148:function(e,t,i){i(149),i(152)},149:function(e,t,i){var n=i(43),a=i(98);i(99),i(100),i(150),i(151),i(105),n.registerPreprocessor(a)},150:function(e,t,i){var n=i(42),a=i(101),o=i(45),r=[20,140],s=a.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=r[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=r[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):n.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){a.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=o.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)},this),t.push({seriesId:i.id,dataIndex:n})},this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),i=l(this,"inRange",this.option.range.slice()),n=[];function a(t,i){n.push({value:t,color:e(t,i)})}for(var o=0,r=0,s=i.length,u=t.length;r<u&&(!i.length||t[r]<=i[0]);r++)t[r]<i[o]&&a(t[r],"outOfRange");for(var c=1;o<s;o++,c=0)c&&n.length&&a(i[o],"outOfRange"),a(i[o],"inRange");for(c=1;r<u;r++)(!i.length||i[i.length-1]<t[r])&&(c&&(n.length&&a(n[n.length-1].value,"outOfRange"),c=0),a(t[r],"outOfRange"));var h=n.length;return{stops:n,outerColors:[h?n[0].color:"transparent",h?n[h-1].color:"transparent"]}}});function l(e,t,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,a=i[0],o=[],r=0;r<=200&&a<i[1];r++)o.push(a),a+=n;return o.push(i[1]),o}var u=s;e.exports=u},151:function(e,t,i){var n=i(42),a=i(161),o=i(62),r=i(103),s=i(44),l=i(45),u=i(64),c=i(104),h=i(47),p=l.linearMap,d=n.each,g=Math.min,f=Math.max,v=12,m=6,y=r.extend({type:"visualMap.continuous",init:function(){y.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var a=this.visualMapModel,o=a.get("textGap"),r=a.itemSize,l=this._shapes.barGroup,u=this._applyTransform([r[0]/2,0===i?-o:r[1]+o],l),c=this._applyTransform(0===i?"bottom":"top",l),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:n,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,i=this._shapes,a=t.itemSize,o=this._orient,r=this._useHandle,s=c.getItemAlign(t,this.api,a),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=x()),l.add(i.inRange=x(null,r?M(this._orient):null,n.bind(this._dragHandle,this,"all",!1),n.bind(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("国"),h=f(u.width,u.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,a,h,o,s),this._createHandle(l,1,a,h,o,s)),this._createIndicator(l,a,h,o),e.add(l)},_createHandle:function(e,t,i,a,r){var l=n.bind(this._dragHandle,this,t,!1),u=n.bind(this._dragHandle,this,t,!0),c=x(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,a),M(this._orient),l,u);c.position[0]=i[0],e.add(c);var h=this.visualMapModel.textStyleModel,p=new s.Text({draggable:!0,drift:l,onmousemove:function(e){o.stop(e.event)},ondragend:u,style:{x:0,y:0,text:"",textFont:h.getFont(),textFill:h.getTextColor()}});this.group.add(p);var d=["horizontal"===r?a/2:1.5*a,"horizontal"===r?0===t?-1.5*a:1.5*a:0===t?-a/2:a/2],g=this._shapes;g.handleThumbs[t]=c,g.handleLabelPoints[t]=d,g.handleLabels[t]=p},_createIndicator:function(e,t,i,n){var a=x([[0,0]],"move");a.position[0]=t[0],a.attr({invisible:!0,silent:!0}),e.add(a);var o=this.visualMapModel.textStyleModel,r=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(r);var l=["horizontal"===n?i/2:m+3,0],u=this._shapes;u.indicator=a,u.indicatorLabel=r,u.indicatorLabelPoint=l},_dragHandle:function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var a=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(e,a[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():_(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[p(t[0],i,n,!0),p(t[1],i,n,!0)]},_updateInterval:function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,a=[0,i.itemSize[1]];u(t,n,a,e,0);var o=i.getExtent();this._dataInterval=[p(n[0],a,o,!0),p(n[1],a,o,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,a=[0,t.itemSize[1]],o=e?a:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,o,"inRange"),s=this._createBarVisual(i,i,a,"outOfRange");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,r)},_createBarVisual:function(e,t,i,n){var o={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(i,s);return{barColor:new a(0,0,0,1,r),barPoints:l,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(e,t){var i=[],n=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var a=1;a<100;a++){var o=e[0]+n*a;if(o>e[1])break;i.push({color:this.getControllerVisual(o,"color",t),offset:a/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,a=i.handleThumbs,o=i.handleLabels;d([0,1],function(r){var l=a[r];l.setStyle("fill",t.handlesColor[r]),l.position[1]=e[r];var u=s.applyTransform(i.handleLabelPoints[r],s.getTransform(l,this.group));o[r].setStyle({x:u[0],y:u[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(e,t,i,n){var a=this.visualMapModel,o=a.getExtent(),r=a.itemSize,l=[0,r[1]],u=p(e,o,l,!0),c=this._shapes,h=c.indicator;if(h){h.position[1]=u,h.attr("invisible",!1),h.setShape("points",function(e,t,i,n){return e?[[0,-g(t,f(i,0))],[m,0],[0,g(t,f(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,u,r[1]));var d=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});h.setStyle("fill",d);var v=s.applyTransform(c.indicatorLabelPoint,s.getTransform(h,this.group)),y=c.indicatorLabel;y.attr("invisible",!1);var x=this._applyTransform("left",c.barGroup),_=this._orient;y.setStyle({text:(i||"")+a.formatValueText(t),textVerticalAlign:"horizontal"===_?x:"middle",textAlign:"horizontal"===_?"center":x,x:v[0],y:v[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);n[1]=g(f(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var a=[0,n[1]],o=i.getExtent();e=g(f(a[0],e),a[1]);var r=function(e,t,i){var n=v/2,a=e.get("hoverLinkDataSize");a&&(n=p(a,t,i,!0)/2);return n}(i,o,a),s=[e-r,e+r],l=p(e,a,o,!0),u=[p(s[0],a,o,!0),p(s[1],a,o,!0)];s[0]<a[0]&&(u[0]=-1/0),s[1]>a[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l,"≈ ",r));var d=this._hoverLinkDataIndices,m=[];(t||_(i))&&(m=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var y=h.compressBatches(d,m);this._dispatchHighDown("downplay",c.convertDataIndex(y[0])),this._dispatchHighDown("highlight",c.convertDataIndex(y[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var n=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(n)){var a=n.getData(t.dataType),o=a.get(i.getDataDimension(a),t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.convertDataIndex(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,a){var o=s.getTransform(t,a?null:this.group);return s[n.isArray(e)?"applyTransform":"transformDirection"](e,o,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function x(e,t,i,n){return new s.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){o.stop(e.event)},ondragend:n})}function _(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function M(e){return"vertical"===e?"ns-resize":"ew-resize"}var S=y;e.exports=S},152:function(e,t,i){var n=i(43),a=i(98);i(99),i(100),i(153),i(154),i(105),n.registerPreprocessor(a)},153:function(e,t,i){i(46).__DEV__;var n=i(42),a=i(101),o=i(57),r=i(102),s=i(45).reformIntervals,l=a.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();u[this._mode].call(this),this._resetSelected(e,t);var a=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=n.clone(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=n.map(this._pieceList,function(e){e=n.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){var e=this.option,t={},i=o.listVisualTypes(),s=this.isCategory();function l(e,t,i){return e&&e[t]&&(n.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}n.each(e.pieces,function(e){n.each(i,function(i){e.hasOwnProperty(i)&&(t[i]=1)})}),n.each(t,function(t,i){var a=0;n.each(this.stateList,function(t){a|=l(e,t,i)||l(e.target,t,i)},this),!a&&n.each(this.stateList,function(t){(e[t]||(e[t]={}))[i]=r.get(i,"inRange"===t?"active":"inactive",s)})},this),a.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,a=this._pieceList,o=(t?i:e).selected||{};if(i.selected=o,n.each(a,function(e,t){var i=this.getSelectedMapKey(e);o.hasOwnProperty(i)||(o[i]=!0)},this),"single"===i.selectedMode){var r=!1;n.each(a,function(e,t){var i=this.getSelectedMapKey(e);o[i]&&(r?o[i]=!1:r=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=n.clone(e)},getValueState:function(e){var t=o.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(t,i){o.findPieceIndex(t,this._pieceList)===e&&n.push(i)},this),t.push({seriesId:i.id,dataIndex:n})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],i=[],a=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),(r=o[o.length-1].interval[1])!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return n.each(o,function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])},this),{stops:t,outerColors:i}}function l(n,o){var r=a.getRepresentValue({interval:n});o||(o=a.getValueState(r));var s=e(r,o);n[0]===-1/0?i[0]=s:n[1]===1/0?i[1]=s:t.push({value:n[0],color:s},{value:n[1],color:s})}}}),u={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),a=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var r=(a[1]-a[0])/o;+r.toFixed(i)!==r&&i<5;)i++;e.precision=i,r=+r.toFixed(i);var l=0;e.minOpen&&t.push({index:l++,interval:[-1/0,a[0]],close:[0,0]});for(var u=a[0],c=l+o;l<c;u+=r){var h=l===o-1?a[1]:u+r;t.push({index:l++,interval:[u,h],close:[1,1]})}e.maxOpen&&t.push({index:l++,interval:[a[1],1/0],close:[0,0]}),s(t),n.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;n.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),c(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;n.each(e.pieces,function(e,i){n.isObject(e)||(e={value:e});var a={text:"",index:i};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var r=a.value=e.value;a.interval=[r,r],a.close=[1,1]}else{for(var s=a.interval=[],l=a.close=[0,0],u=[1,0,1],c=[-1/0,1/0],h=[],p=0;p<2;p++){for(var d=[["gte","gt","min"],["lte","lt","max"]][p],g=0;g<3&&null==s[p];g++)s[p]=e[d[g]],l[p]=u[g],h[p]=2===g;null==s[p]&&(s[p]=c[p])}h[0]&&s[1]===1/0&&(l[0]=0),h[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(a.value=s[0])}a.visual=o.retrieveVisuals(e),t.push(a)},this),c(e,t),s(t),n.each(t,function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)},this)}};function c(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var h=l;e.exports=h},154:function(e,t,i){var n=i(42),a=i(103),o=i(44),r=i(58).createSymbol,s=i(48),l=i(104),u=a.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),a=t.textStyleModel,r=a.getFont(),l=a.getTextColor(),u=this._getItemAlign(),c=t.itemSize,h=this._getViewData(),p=h.endsText,d=n.retrieve(t.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],c,d,u),n.each(h.viewPieceList,function(a){var s=a.piece,h=new o.Group;h.onclick=n.bind(this._onItemClick,this,s),this._enableHoverLink(h,a.indexInModelPieceList);var p=t.getRepresentValue(s);if(this._createItemSymbol(h,p,[0,0,c[0],c[1]]),d){var g=this.visualMapModel.getValueState(p);h.add(new o.Text({style:{x:"right"===u?-i:c[0]+i,y:c[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:u,textFont:r,textFill:l,opacity:"outOfRange"===g?.5:1}}))}e.add(h)},this),p&&this._renderEndsText(e,p[1],c,d,u),s.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:l.convertDataIndex(i.findTargetDataIndices(t))})}e.on("mouseover",n.bind(i,this,"highlight")).on("mouseout",n.bind(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return l.getItemAlign(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,i,n,a){if(t){var r=new o.Group,s=this.visualMapModel.textStyleModel;r.add(new o.Text({style:{x:n?"right"===a?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?a:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(r)}},_getViewData:function(){var e=this.visualMapModel,t=n.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return("horizontal"===a?o:!o)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(r(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,a=n.clone(i.selected),o=t.getSelectedMapKey(e);"single"===i.selectedMode?(a[o]=!0,n.each(a,function(e,t){a[t]=t===o})):a[o]=!a[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}});e.exports=u},155:function(e,t,i){var n=i(42),a={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],function(e,t){return e.set(t.name,t),e},n.createHashMap())},select:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),i&&(i.selected=!0)},unSelect:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);i&&(i.selected=!1)},toggleSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=i)return this[i.selected?"unSelect":"select"](e,t),i.selected},isSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return i&&i.selected}};e.exports=a},175:function(e,t,i){var n=i(43),a=i(42);e.exports=function(e,t){a.each(t,function(t){t.update="updateView",n.registerAction(t,function(i,n){var a={};return n.eachComponent({mainType:"series",subType:e,query:i},function(e){e[t.method]&&e[t.method](i.name,i.dataIndex);var n=e.getData();n.each(function(t){var i=n.getName(t);a[i]=e.isSelected(i)||!1})}),{name:i.name,selected:a}})})}},221:function(e,t,i){var n=i(43),a=i(42);i(222),i(223);var o=i(175),r=i(126),s=i(224),l=i(112);o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(r("pie")),n.registerLayout(a.curry(s,"pie")),n.registerProcessor(l("pie"))},222:function(e,t,i){var n=i(43),a=i(106),o=i(42),r=i(47),s=i(45).getPercentWithPrecision,l=i(155),u=i(92).retrieveRawAttr,c=n.extendSeriesModel({type:"series.pie",init:function(e){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){c.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return a(this,["value"])},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),i=[],n=0,a=e.count();n<a;n++)i.push({name:e.getName(n),value:e.get(t,n),selected:u(e,n,"selected")});return i},getDataParams:function(e){var t=this.getData(),i=c.superCall(this,"getDataParams",e),n=[];return t.each(t.mapDimension("value"),function(e){n.push(e)}),i.percent=s(n,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){r.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});o.mixin(c,l);var h=c;e.exports=h},223:function(e,t,i){var n=i(42),a=i(44),o=i(75);function r(e,t,i,n){var a=t.getData(),o=this.dataIndex,r=a.getName(o),l=t.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),a.each(function(e){s(a.getItemGraphicEl(e),a.getItemLayout(e),t.isSelected(a.getName(e)),l,i)})}function s(e,t,i,n,a){var o=(t.startAngle+t.endAngle)/2,r=i?n:0,s=[Math.cos(o)*r,Math.sin(o)*r];a?e.animate().when(200,{position:s}).start("bounceOut"):e.attr("position",s)}function l(e,t){a.Group.call(this);var i=new a.Sector({z2:2}),n=new a.Polyline,o=new a.Text;function r(){n.ignore=n.hoverIgnore,o.ignore=o.hoverIgnore}function s(){n.ignore=n.normalIgnore,o.ignore=o.normalIgnore}this.add(i),this.add(n),this.add(o),this.updateData(e,t,!0),this.on("emphasis",r).on("normal",s).on("mouseover",r).on("mouseout",s)}var u=l.prototype;u.updateData=function(e,t,i){var o=this.childAt(0),r=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),c=n.extend({},u);(c.label=null,i)?(o.setShape(c),"scale"===r.getShallow("animationType")?(o.shape.r=u.r0,a.initProps(o,{shape:{r:u.r}},r,t)):(o.shape.endAngle=u.startAngle,a.updateProps(o,{shape:{endAngle:u.endAngle}},r,t))):a.updateProps(o,{shape:c},r,t);var h=e.getItemVisual(t,"color");o.useStyle(n.defaults({lineJoin:"bevel",fill:h},l.getModel("itemStyle").getItemStyle())),o.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var p=l.getShallow("cursor");function d(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r+r.get("hoverOffset")}},300,"elasticOut")}function g(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r}},300,"elasticOut")}p&&o.attr("cursor",p),s(this,e.getItemLayout(t),r.isSelected(null,t),r.get("selectedOffset"),r.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&r.isAnimationEnabled()&&o.on("mouseover",d).on("mouseout",g).on("emphasis",d).on("normal",g),this._updateLabel(e,t),a.setHoverStyle(this)},u._updateLabel=function(e,t){var i=this.childAt(1),n=this.childAt(2),o=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");a.updateProps(i,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},o,t),a.updateProps(n,{style:{x:s.x,y:s.y}},o,t),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=r.getModel("label"),c=r.getModel("emphasis.label"),h=r.getModel("labelLine"),p=r.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color");a.setLabelStyle(n.style,n.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(h.getModel("lineStyle").getLineStyle()),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var d=h.get("smooth");d&&!0===d&&(d=.4),i.setShape({smooth:d})},n.inherits(l,a.Group);var c=o.extend({type:"pie",init:function(){var e=new a.Group;this._sectorGroup=e},render:function(e,t,i,a){if(!a||a.from!==this.uid){var o=e.getData(),s=this._data,u=this.group,c=t.get("animation"),h=!s,p=e.get("animationType"),d=n.curry(r,this.uid,e,c,i),g=e.get("selectedMode");if(o.diff(s).add(function(e){var t=new l(o,e);h&&"scale"!==p&&t.eachChild(function(e){e.stopAnimation(!0)}),g&&t.on("click",d),o.setItemGraphicEl(e,t),u.add(t)}).update(function(e,t){var i=s.getItemGraphicEl(t);i.updateData(o,e),i.off("click"),g&&i.on("click",d),u.add(i),o.setItemGraphicEl(e,i)}).remove(function(e){var t=s.getItemGraphicEl(e);u.remove(t)}).execute(),c&&h&&o.count()>0&&"scale"!==p){var f=o.getItemLayout(0),v=Math.max(i.getWidth(),i.getHeight())/2,m=n.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(f.cx,f.cy,v,f.startAngle,f.clockwise,m,e))}this._data=o}},dispose:function(){},_createClipPath:function(e,t,i,n,o,r,s){var l=new a.Sector({shape:{cx:e,cy:t,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return a.initProps(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},s,r),l},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var n=e[0]-i.cx,a=e[1]-i.cy,o=Math.sqrt(n*n+a*a);return o<=i.r&&o>=i.r0}}});e.exports=c},224:function(e,t,i){var n=i(45),a=n.parsePercent,o=n.linearMap,r=i(225),s=i(42),l=2*Math.PI,u=Math.PI/180;e.exports=function(e,t,i,n){t.eachSeriesByType(e,function(e){var t=e.getData(),n=t.mapDimension("value"),c=e.get("center"),h=e.get("radius");s.isArray(h)||(h=[0,h]),s.isArray(c)||(c=[c,c]);var p=i.getWidth(),d=i.getHeight(),g=Math.min(p,d),f=a(c[0],p),v=a(c[1],d),m=a(h[0],g/2),y=a(h[1],g/2),x=-e.get("startAngle")*u,_=e.get("minAngle")*u,M=0;t.each(n,function(e){!isNaN(e)&&M++});var S=t.getSum(n),b=Math.PI/(S||M)*2,I=e.get("clockwise"),V=e.get("roseType"),L=e.get("stillShowZeroSum"),w=t.getDataExtent(n);w[0]=0;var T=l,A=0,O=x,D=I?1:-1;if(t.each(n,function(e,i){var n;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:f,cy:v,r0:m,r:V?NaN:y});else{(n="area"!==V?0===S&&L?b:e*b:l/M)<_?(n=_,T-=_):A+=e;var a=O+D*n;t.setItemLayout(i,{angle:n,startAngle:O,endAngle:a,clockwise:I,cx:f,cy:v,r0:m,r:V?o(e,w,[m,y]):y}),O=a}}),T<l&&M)if(T<=.001){var P=l/M;t.each(n,function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i);n.angle=P,n.startAngle=x+D*i*P,n.endAngle=x+D*(i+1)*P}})}else b=T/A,O=x,t.each(n,function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i),a=n.angle===_?_:e*b;n.startAngle=O,n.endAngle=O+D*a,O+=D*a}});r(e,y,p,d)})}},225:function(e,t,i){var n=i(67);function a(e,t,i,n,a,o,r){function s(t,i,n,a){for(var o=t;o<i;o++)if(e[o].y+=n,o>t&&o+1<i&&e[o+1].y>e[o].y+e[o].height)return void l(o,n/2);l(i-1,n/2)}function l(t,i){for(var n=t;n>=0&&(e[n].y-=i,!(n>0&&e[n].y>e[n-1].y+e[n-1].height));n--);}function u(e,t,i,n,a,o){for(var r=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if("center"!==e[s].position){var u=Math.abs(e[s].y-n),c=e[s].len,h=e[s].len2,p=u<a+c?Math.sqrt((a+c+h)*(a+c+h)-u*u):Math.abs(e[s].x-i);t&&p>=r&&(p=r-10),!t&&p<=r&&(p=r+10),e[s].x=i+p*o,r=p}}e.sort(function(e,t){return e.y-t.y});for(var c,h=0,p=e.length,d=[],g=[],f=0;f<p;f++)(c=e[f].y-h)<0&&s(f,p,-c),h=e[f].y+e[f].height;r-h<0&&l(p-1,h-r);for(f=0;f<p;f++)e[f].y>=i?g.push(e[f]):d.push(e[f]);u(d,!1,t,i,n,a),u(g,!0,t,i,n,a)}e.exports=function(e,t,i,o){var r,s,l=e.getData(),u=[],c=!1;l.each(function(i){var a,o,h,p,d=l.getItemLayout(i),g=l.getItemModel(i),f=g.getModel("label"),v=f.get("position")||g.get("emphasis.label.position"),m=g.getModel("labelLine"),y=m.get("length"),x=m.get("length2"),_=(d.startAngle+d.endAngle)/2,M=Math.cos(_),S=Math.sin(_);r=d.cx,s=d.cy;var b="inside"===v||"inner"===v;if("center"===v)a=d.cx,o=d.cy,p="center";else{var I=(b?(d.r+d.r0)/2*M:d.r*M)+r,V=(b?(d.r+d.r0)/2*S:d.r*S)+s;if(a=I+3*M,o=V+3*S,!b){var L=I+M*(y+t-d.r),w=V+S*(y+t-d.r),T=L+(M<0?-1:1)*x;a=T+(M<0?-5:5),o=w,h=[[I,V],[L,w],[T,w]]}p=b?"center":M>0?"left":"right"}var A=f.getFont(),O=f.get("rotate")?M<0?-_+Math.PI:-_:0,D=e.getFormattedLabel(i,"normal")||l.getName(i),P=n.getBoundingRect(D,A,p,"top");c=!!O,d.label={x:a,y:o,position:v,height:P.height,len:y,len2:x,linePoints:h,textAlign:p,verticalAlign:"middle",rotation:O,inside:b},b||u.push(d.label)}),!c&&e.get("avoidLabelOverlap")&&function(e,t,i,n,o,r){for(var s=[],l=[],u=0;u<e.length;u++)e[u].x<t?s.push(e[u]):l.push(e[u]);for(a(l,t,i,n,1,0,r),a(s,t,i,n,-1,0,r),u=0;u<e.length;u++){var c=e[u].linePoints;if(c){var h=c[1][0]-c[2][0];e[u].x<t?c[2][0]=e[u].x+3:c[2][0]=e[u].x-3,c[1][1]=c[2][1]=e[u].y,c[1][0]=c[2][0]+h}}}(u,r,s,t,0,o)}},57:function(e,t,i){var n=i(42),a=i(74),o=i(45).linearMap,r=n.each,s=n.isObject,l=-1,u=function(e){var t=e.mappingMethod,i=e.type,a=this.option=n.clone(e);this.type=i,this.mappingMethod=t,this._normalizeData=_[t];var o=c[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(h(a),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.each(t,function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)})}(a)):"category"===t?a.categories?function(e){var t=e.categories,i=e.visual,a=e.categoryMap={};if(r(t,function(e,t){a[e]=t}),!n.isArray(i)){var o=[];n.isObject(i)?r(i,function(e,t){var i=a[t];o[null!=i?i:l]=e}):o[l]=i,i=x(e,o)}for(var s=t.length-1;s>=0;s--)null==i[s]&&(delete a[t[s]],t.pop())}(a):h(a,!0):(n.assert("linear"!==t||a.dataExtent),h(a))};u.prototype={constructor:u,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var c=u.visualHandlers={color:{applyVisual:g("color"),getColorMapper:function(){var e=this.option;return n.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),f.call(this,e)}:function(t,i,n){var o=!!n;return!i&&(t=this._normalizeData(t)),n=a.fastLerp(t,e.parsedVisual,n),o?n:a.stringify(n,"rgba")},this)},_doMap:{linear:function(e){return a.stringify(a.fastLerp(e,this.option.parsedVisual),"rgba")},category:f,piecewise:function(e,t){var i=y.call(this,t);return null==i&&(i=a.stringify(a.fastLerp(e,this.option.parsedVisual),"rgba")),i},fixed:v}},colorHue:p(function(e,t){return a.modifyHSL(e,t)}),colorSaturation:p(function(e,t){return a.modifyHSL(e,null,t)}),colorLightness:p(function(e,t){return a.modifyHSL(e,null,null,t)}),colorAlpha:p(function(e,t){return a.modifyAlpha(e,t)}),opacity:{applyVisual:g("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:g("liftZ"),_doMap:{linear:v,category:v,piecewise:v,fixed:v}},symbol:{applyVisual:function(e,t,i){var a=this.mapValueToVisual(e);if(n.isString(a))i("symbol",a);else if(s(a))for(var o in a)a.hasOwnProperty(o)&&i(o,a[o])},_doMap:{linear:d,category:f,piecewise:function(e,t){var i=y.call(this,t);return null==i&&(i=d.call(this,e)),i},fixed:v}},symbolSize:{applyVisual:g("symbolSize"),_doMap:m([0,1])}};function h(e,t){var i=e.visual,a=[];n.isObject(i)?r(i,function(e){a.push(e)}):null!=i&&a.push(i);t||1!==a.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(a[1]=a[0]),x(e,a)}function p(e){return{applyVisual:function(t,i,n){t=this.mapValueToVisual(t),n("color",e(i("color"),t))},_doMap:m([0,1])}}function d(e){var t=this.option.visual;return t[Math.round(o(e,[0,1],[0,t.length-1],!0))]||{}}function g(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function f(e){var t=this.option.visual;return t[this.option.loop&&e!==l?e%t.length:e]}function v(){return this.option.visual[0]}function m(e){return{linear:function(t){return o(t,e,this.option.visual,!0)},category:f,piecewise:function(t,i){var n=y.call(this,i);return null==n&&(n=o(t,e,this.option.visual,!0)),n},fixed:v}}function y(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=i[u.findPieceIndex(e,i)];if(n&&n.visual)return n.visual[this.type]}}function x(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.map(t,function(e){return a.parse(e)})),t}var _={linear:function(e){return o(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=u.findPieceIndex(e,t,!0);if(null!=i)return o(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?l:t},fixed:n.noop};function M(e,t,i){return e?t<=i:t<i}u.listVisualTypes=function(){var e=[];return n.each(c,function(t,i){e.push(i)}),e},u.addVisualHandler=function(e,t){c[e]=t},u.isValidType=function(e){return c.hasOwnProperty(e)},u.eachVisual=function(e,t,i){n.isObject(e)?n.each(e,t,i):t.call(i,e)},u.mapVisual=function(e,t,i){var a,o=n.isArray(e)?[]:n.isObject(e)?{}:(a=!0,null);return u.eachVisual(e,function(e,n){var r=t.call(i,e,n);a?o=r:o[n]=r}),o},u.retrieveVisuals=function(e){var t,i={};return e&&r(c,function(n,a){e.hasOwnProperty(a)&&(i[a]=e[a],t=!0)}),t?i:null},u.prepareVisualTypes=function(e){if(s(e)){var t=[];r(e,function(e,i){t.push(i)}),e=t}else{if(!n.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},u.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},u.findPieceIndex=function(e,t,i){for(var n,a=1/0,o=0,r=t.length;o<r;o++){var s=t[o].value;if(null!=s){if(s===e||"string"==typeof s&&s===e+"")return o;i&&h(s,o)}}for(o=0,r=t.length;o<r;o++){var l=t[o],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(M(c[1],e,u[1]))return o}else if(u[1]===1/0){if(M(c[0],u[0],e))return o}else if(M(c[0],u[0],e)&&M(c[1],e,u[1]))return o;i&&h(u[0],o),i&&h(u[1],o)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function h(t,i){var o=Math.abs(t-e);o<a&&(a=o,n=i)}};var S=u;e.exports=S},64:function(e,t){function i(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function n(e,t){return Math.min(t[1],Math.max(t[0],e))}e.exports=function(e,t,a,o,r,s){t[0]=n(t[0],a),t[1]=n(t[1],a),e=e||0;var l=a[1]-a[0];null!=r&&(r=n(r,[0,l])),null!=s&&(s=Math.max(s,null!=r?r:0)),"all"===o&&(r=s=Math.abs(t[1]-t[0]),o=0);var u=i(t,o);t[o]+=e;var c=r||0,h=a.slice();u.sign<0?h[0]+=c:h[1]-=c,t[o]=n(t[o],h);var p=i(t,o);return null!=r&&(p.sign!==u.sign||p.span<r)&&(t[1-o]=t[o]+u.sign*r),p=i(t,o),null!=s&&p.span>s&&(t[1-o]=t[o]+p.sign*s),t}},81:function(e,t,i){var n=i(42),a=i(57),o=n.each;function r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}t.createVisualMappings=function(e,t,i){var r={};return o(t,function(t){var s,l=r[t]=((s=function(){}).prototype.__hidden=s.prototype,new s);o(e[t],function(e,o){if(a.isValidType(o)){var r={type:o,visual:e};i&&i(r,t),l[o]=new a(r),"opacity"===o&&((r=n.clone(r)).type="colorAlpha",l.__hidden.__alphaForOpacity=new a(r))}})}),r},t.replaceVisualOption=function(e,t,i){var a;n.each(i,function(e){t.hasOwnProperty(e)&&r(t[e])&&(a=!0)}),a&&n.each(i,function(i){t.hasOwnProperty(i)&&r(t[i])?e[i]=n.clone(t[i]):delete e[i]})},t.applyVisual=function(e,t,i,o,r,s){var l,u={};function c(e){return i.getItemVisual(l,e)}function h(e,t){i.setItemVisual(l,e,t)}function p(e,n){l=null==s?e:n;var a=i.getRawDataItem(l);if(!a||!1!==a.visualMap)for(var p=o.call(r,e),d=t[p],g=u[p],f=0,v=g.length;f<v;f++){var m=g[f];d[m]&&d[m].applyVisual(e,c,h)}}n.each(e,function(e){var i=a.prepareVisualTypes(t[e]);u[e]=i}),null==s?i.each(p):i.each([s],p)},t.incrementalApplyVisual=function(e,t,i,o){var r={};return n.each(e,function(e){var i=a.prepareVisualTypes(t[e]);r[e]=i}),{progress:function(e,n){function a(e){return n.getItemVisual(l,e)}function s(e,t){n.setItemVisual(l,e,t)}var l;for(null!=o&&(o=n.getDimension(o));null!=(l=e.next());){var u=n.getRawDataItem(l);if(u&&!1===u.visualMap)return;for(var c=null!=o?n.get(o,l,!0):l,h=i(c),p=t[h],d=r[h],g=0,f=d.length;g<f;g++){var v=d[g];p[v]&&p[v].applyVisual(c,a,s)}}}}}},98:function(e,t,i){var n=i(42),a=n.each;function o(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=function(e){var t=e&&e.visualMap;n.isArray(t)||(t=t?[t]:[]),a(t,function(e){if(e){o(e,"splitList")&&!o(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&n.isArray(t)&&a(t,function(e){n.isObject(e)&&(o(e,"start")&&!o(e,"min")&&(e.min=e.start),o(e,"end")&&!o(e,"max")&&(e.max=e.end))})}})}},99:function(e,t,i){i(51).registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})}}]);